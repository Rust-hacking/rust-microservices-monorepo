#+TITLE: HTTPS Request
#+AUTHOR: Dang Quang Vu
#+EMAIL: jayden.dangvu@gmail.com
#+DESCRIPTION: This file only work with Emacs

* Configs
#+name: host
#+BEGIN_SRC elisp
"http://localhost:3333"
#+END_SRC

#+name: headers
#+BEGIN_SRC elisp
"Content-Type: application/json
Accept-Encoding: gzip
User-Agent: Emacs30"
#+END_SRC

#+RESULTS: headers
: Content-Type: application/json
: Accept-Encoding: gzip
: User-Agent: Emacs30

* API
** User
*** Get User By Id
#+BEGIN_SRC restclient :var host=host :var headers=headers
GET :host/api/v1/user/205
:headers
#+END_SRC

#+RESULTS:
#+BEGIN_SRC js
{
  "data": null,
  "metadata": null,
  "req_id": "8695164b-88e8-4613-a740-1a80a1f8f349",
  "status": 1
}
// GET http://localhost:3333/api/v1/user/205
// HTTP/1.1 200 OK
// content-type: application/json
// content-length: 88
// vary: origin, access-control-request-method, access-control-request-headers
// date: Sun, 28 Jul 2024 15:24:11 GMT
// Request duration: 0.014148s
#+END_SRC

#+BEGIN_SRC js
{
  "data": {
    "pk_user_id": 201,
    "username": "Rowena McKerley"
  },
  "metadata": null,
  "req_id": "4da8888e-b1c4-4b09-a523-6f122473dea3",
  "status": 1
}
// GET http://localhost:3333/api/v1/user/201
// HTTP/1.1 200 OK
// content-type: application/json
// vary: accept-encoding
// vary: origin, access-control-request-method, access-control-request-headers
// transfer-encoding: chunked
// date: Sun, 28 Jul 2024 14:41:47 GMT
// Request duration: 0.012425s
#+END_SRC


*** Get User By Sth
#+BEGIN_SRC restclient :var host=host :var headers=headers
GET :host/api/v1/user?username=Jayden
:headers
#+END_SRC

#+RESULTS:
#+BEGIN_SRC js
{
  "data": {
    "pk_user_id": 1002,
    "username": "Jayden"
  },
  "metadata": null,
  "req_id": "45422640-6f88-4cdd-bc19-965e86cccaea",
  "status": 1
}
// GET http://localhost:3333/api/v1/user?username=Jayden
// HTTP/1.1 200 OK
// content-type: application/json
// vary: origin, access-control-request-method, access-control-request-headers
// vary: accept-encoding
// transfer-encoding: chunked
// date: Sun, 28 Jul 2024 15:53:44 GMT
// Request duration: 0.016146s
#+END_SRC

*** List User
#+BEGIN_SRC restclient :var host=host :var headers=headers
GET :host/api/v1/users
:headers
#+END_SRC

#+RESULTS:
#+BEGIN_SRC js
{
  "data": [
    {
      "pk_user_id": 1,
      "username": "Callie Ghelardoni"
    },
    {
      "pk_user_id": 2,
      "username": "Justis Aitkenhead"
    },
    {
      "pk_user_id": 3,
      "username": "Giffy Duferie"
    },
    {
      "pk_user_id": 4,
      "username": "Scotty Center"
    },
    {
      "pk_user_id": 5,
      "username": "Karlie Borman"
    },
    {
      "pk_user_id": 6,
      "username": "Alvira Voysey"
    },
    {
      "pk_user_id": 7,
      "username": "Kordula Boow"
    },
    {
      "pk_user_id": 8,
      "username": "Mirilla Ollarenshaw"
    },
    {
      "pk_user_id": 9,
      "username": "Josefa Patmore"
    },
    {
      "pk_user_id": 10,
      "username": "Delbert Galero"
    },
    {
      "pk_user_id": 11,
      "username": "Thaddeus Warlton"
    },
    {
      "pk_user_id": 12,
      "username": "Johnna Luxton"
    },
    {
      "pk_user_id": 13,
      "username": "Averil Rushmer"
    },
    {
      "pk_user_id": 14,
      "username": "Cassi Edsell"
    },
    {
      "pk_user_id": 15,
      "username": "Zacherie Cranshaw"
    },
    {
      "pk_user_id": 16,
      "username": "Lewiss Ahlin"
    },
    {
      "pk_user_id": 17,
      "username": "Gorden Baddoe"
    },
    {
      "pk_user_id": 18,
      "username": "Lonni Colombier"
    },
    {
      "pk_user_id": 19,
      "username": "Arni Hedderly"
    },
    {
      "pk_user_id": 20,
      "username": "Bette-ann Klemmt"
    }
  ],
  "metadata": {
    "current_page": 1,
    "per_page": 20,
    "total_items": 20,
    "total_pages": 1
  },
  "req_id": "5334f18b-53bf-4a7b-a523-a937d24e9702",
  "status": 1
}
// GET http://localhost:3333/api/v1/users
// HTTP/1.1 200 OK
// content-type: application/json
// vary: origin, access-control-request-method, access-control-request-headers
// vary: accept-encoding
// transfer-encoding: chunked
// date: Sun, 28 Jul 2024 15:52:55 GMT
// Request duration: 0.025342s
#+END_SRC

*** All User
#+BEGIN_SRC restclient :var host=host :var headers=headers
GET :host/api/v1/count_user
:headers
#+END_SRC

#+RESULTS:
#+BEGIN_SRC js
{
  "data": 1002,
  "metadata": null,
  "req_id": "9f2585ac-dc40-4ec4-92a2-b1195a596b03",
  "status": 1
}
// GET http://localhost:3333/api/v1/count_user
// HTTP/1.1 200 OK
// content-type: application/json
// content-length: 88
// date: Sat, 27 Jul 2024 10:09:53 GMT
// Request duration: 0.019859s
#+END_SRC

*** Create User
#+begin_src restclient :var host=host :var headers=headers
POST :host/api/v1/user
:headers
{
  "pk_user_id" : 1002,
  "username"  : "Jayden"
}
#+end_src

#+BEGIN_SRC js
{
  "data": {
    "pk_user_id": 1002,
    "username": "Jayden"
  },
  "metadata": null,
  "req_id": "79c88bcc-ab03-4999-9b85-7c2a9a4407d6",
  "status": 1
}
// POST http://localhost:3333/api/v1/user
// HTTP/1.1 200 OK
// content-type: application/json
// content-length: 123
// date: Sun, 28 Jul 2024 14:32:28 GMT
// Request duration: 0.063117s
#+END_SRC

*** Update User
#+begin_src restclient :var host=host :var headers=headers
PATCH :host/api/v1/user/1000
:headers
{
  "username"  : "New Jayden 1"
}
#+end_src

#+RESULTS:
#+BEGIN_SRC js
{
  "data": {
    "pk_user_id": 1000
  },
  "metadata": null,
  "req_id": "2a18514c-b394-46bf-8673-1b11ddfc99ef",
  "status": 1
}
// PATCH http://localhost:3333/api/v1/user/1000
// HTTP/1.1 200 OK
// content-type: application/json
// content-length: 103
// date: Sat, 27 Jul 2024 15:37:09 GMT
// Request duration: 0.025625s
#+END_SRC

*** Delete User
#+begin_src restclient :var host=host :var headers=headers
DELETE :host/api/v1/user/1001
:headers
#+end_src

#+RESULTS:
#+BEGIN_SRC js
{
  "data": null,
  "metadata": null,
  "req_id": "d733fb25-6362-43b8-a21c-adc055f44787",
  "status": 1
}
// DELETE http://localhost:3333/api/v1/user/1001
// HTTP/1.1 200 OK
// content-type: application/json
// content-length: 88
// date: Sat, 27 Jul 2024 10:57:54 GMT
// Request duration: 0.012972s
#+END_SRC

*** Delete Many Users
#+begin_src restclient :var host=host :var headers=headers
DELETE :host/api/v1/users
:headers
[100, 200, 300]
#+end_src

#+RESULTS:
#+BEGIN_SRC js
{
  "data": null,
  "metadata": null,
  "req_id": "5406f794-9744-4f25-a9ee-0ae1eafe2191",
  "status": 1
}
// DELETE http://localhost:3333/api/v1/users
// HTTP/1.1 200 OK
// content-type: application/json
// content-length: 88
// date: Sat, 27 Jul 2024 11:05:16 GMT
// Request duration: 0.014252s
#+END_SRC

** Course
*** Create Course
#+begin_src restclient :var host=host :var headers=headers
POST :host/api/v1/course
:headers
{
  "pk_course_id" : 3333,
  "title"  : "Course 5",
  "description"  : "Description course 1"
}
#+end_src

#+RESULTS:
#+BEGIN_SRC js
{
  "data": null,
  "metadata": null,
  "req_id": "c921b272-65ba-43b9-beab-cb05c18ef146",
  "status": 1
}
// POST http://localhost:3333/api/v1/course
// HTTP/1.1 404 Not Found
// content-type: application/json
// content-length: 88
// date: Sun, 28 Jul 2024 14:32:10 GMT
// Request duration: 0.002048s
#+END_SRC

*** Get Course
#+begin_src restclient :var host=host :var headers=headers
GET :host/api/v1/course/2000
#+END_SRC

#+RESULTS:
#+BEGIN_SRC js
{
  "data": {
    "description": "Description course 1",
    "pk_course_id": 2000,
    "title": "Course 2"
  },
  "metadata": null,
  "req_id": "9e5ac5c5-5266-4fce-97f7-817a43b18fe0",
  "status": 1
}
// GET http://localhost:3333/api/v1/course/2000
// HTTP/1.1 200 OK
// content-type: application/json
// content-length: 161
// date: Wed, 24 Jul 2024 10:11:38 GMT
// Request duration: 0.006004s
#+END_SRC
